============================================================================
== Dependencies

This application requires the following gems:
	rails v2.2.2
	ruport
	acts_as_reportable
	ferret
	geokit
	mysql

Installation on a generic debian/ubuntu machine:
  apt-get install rubygems
  gem install --version 2.2.2 --no-rdoc --no-ri rails
  apt-get install ruby-dev # needed for building native extensions
  gem install --no-rdoc --no-ri ruport acts_as_reportable ferret geokit
  apt-get install libmysqlclient-dev
  gem install --no-rdoc --no-ri mysql
  apt-get install ruby
  apt-get install rake 

============================================================================
== Configuration

Fetch repository with:
  bzr branch lp:datacommons
  cd datacommons

Set up database:
  cd config
  cp database.yml.dist database.yml # edit this to taste
  cd ..

Then (do "rake -T" to see all options):
  rake db:create
  rake db:reset  # may have to have someone fix db/schema.rb
  rake db:migrate

At this point, running a test server should work:
  ./script/server 

============================================================================
== Searches

To get Searches working in the DCP Directory:
1) Start up the Ferret Server:
script/ferret_server -e production -R `pwd` start
or
script/ferret_server -e development -R `pwd` start

2) If the index has never been built (i.e. first installation, first run, etc.):
script/runner -e production 'Organization.rebuild_index'
or
script/runner -e development 'Organization.rebuild_index'

============================================================================
== Development

Plugins in vendor directory:
  ./script/plugin install git://github.com/sandal/prawn.git -r stable
  ./script/plugin install https://github.com/yob/pdf-reader.git
  ./script/plugin install git://rubyforge.org/ascii85.git
  ./script/plugin install https://github.com/sandal/ttfunk.git
